RatingViewController.swift
import UIKit

class RatingViewController: UIViewController {

    @IBOutlet weak var ratingSegmentedControl: UISegmentedControl!

    var currentRating: Int = 0
    var selectedRating: Int = 0

    override func viewDidLoad() {
        super.viewDidLoad()

        if currentRating > 0 {
            ratingSegmentedControl.selectedSegmentIndex = currentRating - 1
        }
    }

    @IBAction func ratingChanged(_ sender: UISegmentedControl) {
        selectedRating = sender.selectedSegmentIndex + 1
    }

    @IBAction func saveTapped(_ sender: UIButton) {
        if ratingSegmentedControl.selectedSegmentIndex >= 0 {
            selectedRating = ratingSegmentedControl.selectedSegmentIndex + 1
        }
        performSegue(withIdentifier: "saveRating", sender: self)
    }

    @IBAction func cancelTapped(_ sender: UIButton) {
        performSegue(withIdentifier: "cancelRating", sender: self)
    }
}
